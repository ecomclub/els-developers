{
    "repo": "ecomplus-passport",
    "path": "README.md",
    "markdown": "# ecomplus-passport\nE-Com Plus service for customer login and signup with Passportjs\n\n# Technology stack\n+ [NodeJS](https:\/\/nodejs.org\/en\/) 8.9.x\n+ [Express](http:\/\/expressjs.com\/) web framework package\n+ [Passport](http:\/\/www.passportjs.org\/) package\n+ OAuth strategies: Facebook, Google, Twitter, Instagram, Yahoo and Windows Live\n+ [JSON Web Token](https:\/\/jwt.io\/)\n\n# Setting up\n```bash\ngit clone https:\/\/github.com\/ecomclub\/ecomplus-passport\ncd ecomplus-passport\ncp config\/config-sample.json config\/config.json\nnano config\/config.json\n```\n\nEdit `config.json` placing correct values for your environment,\nafter that, start app with node:\n\n```bash\nnode .\/main.js\n```\n\n# Web server\nYou need to use a web server such as NGINX or Apache HTTP,\nproxy passing the requests to configured TCP port.\n\n# Frontend script\n\n## Example\n\n```javascript\nvar uri = 'https:\/\/passport.e-com.plus\/v1\/pt_br\/1004\/sdjcksadcasbcsabdcbsldjlbcasbdcs\/login.html'\nvar popup = window.open(uri, 'Passport', 'height=400,width=340')\nif (window.focus) {\n  popup.focus()\n}\nvar getCustomerInfo = function () {\n  \/\/ run after login\n  clearInterval(popupWatch)\n  console.log('logged?')\n}\n\/\/ public callback function\nwindow.passportCallback = function () {\n  \/\/ logged\n  getCustomerInfo()\n}\n\/\/ fallback\nvar popupWatch = setInterval(function () {\n  if (popup.closed) {\n    \/\/ may be logged\n    getCustomerInfo()\n  }\n}, 400)\n```\n"
}